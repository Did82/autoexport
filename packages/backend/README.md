# Export Utils

Утилита для копирования и управления экспортом данных, разработанная с использованием Bun, Elysia и TypeScript.

## Требования

- [Bun](https://bun.sh/) (версия 1.0.0 или выше)

## Установка

1. Убедитесь, что у вас установлен Bun. Если нет, установите его, следуя инструкциям на [официальном сайте](https://bun.sh/).

2. Клонируйте репозиторий:
   ```
   git clone https://github.com/your-username/export-utils.git
   cd export-utils
   ```

3. Установите зависимости:
   ```
   bun install
   ```

4. Настройте конфигурацию в `config.json`

## Использование

Для запуска копирования через CLI:

```
bun run copy
```

Для запуска Elysia сервера с cron-задачами:

```
bun start
```

## Конфигурация

Настройки находятся в файле `config.json`:

- `src`: путь к исходной директории
- `dest`: путь к целевой директории
- `limit`: ограничение на использование дискового пространства

## Скрипты

- `bun run copy`: Запускает процесс копирования папок через CLI
- `bun start`: Запускает Elysia сервер с настроенными cron-задачами
- `bun run dev`: Запускает Elysia сервер в режиме разработки с автоматической перезагрузкой при изменениях

## Структура проекта

```
export-utils/
├── src/
│   ├── cli/
│   │   └── copy_all.ts
│   ├── libs/
│   │   ├── copy.ts
│   │   ├── securityUtils.ts
│   │   └── utils.ts
│   └── index.ts
├── config.json
├── package.json
├── tsconfig.json
└── README.md
```

## API Endpoints

Elysia сервер предоставляет следующие эндпоинты:

- `GET /`: Приветственное сообщение
- `GET /space`: Информация об использовании дискового пространства

## Cron задачи

Сервер настроен с следующими cron-задачами:

- Копирование файлов: Выполняется каждые 20 секунд
- Контроль дискового пространства: Выполняется ежедневно (в настоящее время закомментировано)

## Разработка

Проект использует TypeScript и Elysia фреймворк. Убедитесь, что ваш редактор кода настроен для работы с TypeScript для лучшего опыта разработки.

## Тестирование

Для запуска тестов используйте команду:

```
bun test
```

## Производительность

Утилита оптимизирована для параллельного копирования с использованием системы очередей. Вы можете настроить уровень параллелизма в файле `src/cli/copy_all.ts`.

## Вклад в проект

Пулл-реквесты приветствуются. Для крупных изменений, пожалуйста, сначала откройте issue для обсуждения предлагаемых изменений.

## Лицензия

[MIT](https://choosealicense.com/licenses/mit/)
